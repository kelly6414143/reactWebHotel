(this["webpackJsonpreact-web-hotel"]=this["webpackJsonpreact-web-hotel"]||[]).push([[0],{41:function(e,a,t){e.exports=t(72)},46:function(e,a,t){},47:function(e,a,t){},72:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),l=t(33),r=t.n(l),i=(t(46),t(11)),c=t(2),m=(t(47),t(15)),s=t(16),g=t(19),u=t(18),h=t(14),d=t(20),p=t(34),E=t.n(p),f=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o="i2A9LrARnW0vSgOGpO9E3X7kDM1tZDQwRLDK1qOlXxXtzVKG6ByZN2JXLxqC",l="get"===a?"params":"data",r={"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json",Authorization:"Bearer ".concat(o)};return n.headers&&(r=Object(d.a)(Object(d.a)({},r),n.headers)),new Promise((function(n,o){var i;E()((i={url:"https://challenge.thef2e.com/api/thef2e2019/stage6/".concat(e),method:a},Object(h.a)(i,l,t),Object(h.a)(i,"headers",r),i)).then(n).catch((function(e){console.dir(e),o(e)}))}))},_={room:{getRooms:function(){return f("rooms","get")},getSingleRoom:function(e){return f("room/".concat(e.id),"get")},addGuest:function(e){return f("post","/guest",e)}}},v=function(e){return function(a){Object(g.a)(n,a);var t=Object(u.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).state={rooms:[]},a}return Object(s.a)(n,[{key:"componentWillMount",value:function(){var e=this;_.room.getRooms().then((function(a){var t=a.data,n=t.success,o=t.items,l=o.map((function(e){return{name:e.name.split(" ").join("_"),id:e.id}}));sessionStorage.setItem("allRooms",JSON.stringify(l)),n&&o&&o.length>0&&e.setState({rooms:o})}))}},{key:"render",value:function(){return o.a.createElement(e,Object.assign({},this.state,this.props))}}]),n}(o.a.Component)}((function(e){var a=e.rooms;return o.a.createElement("div",{className:"homepage"},o.a.createElement("div",{className:"homepage_wrapper"},o.a.createElement("h1",null,"WHITE INN"),o.a.createElement("div",{className:"homepage_footer"},o.a.createElement("div",{className:"homepage_roomcarousel"},a.map((function(e){var a=e.name.split(" ").join("_");return o.a.createElement(i.b,{to:{pathname:"/roomInfo/".concat(a),query:{id:e.id}},key:e.id,className:"homepage_roomcarousel_roomcard"},o.a.createElement("div",{className:"homepage_roomcarousel_imgwrapper",style:{backgroundImage:"url(".concat(e.imageUrl,")")}}),o.a.createElement("div",{className:"homepage_roomcarousel_roominfo"},o.a.createElement("h3",null,e.name),o.a.createElement("p",null,"$ ",e.normalDayPrice),o.a.createElement("p",null,"$ ",e.holidayPrice)))}))),o.a.createElement("div",{className:"homepage_webinfo"},o.a.createElement("div",{className:"homepage_webinfo_wrapper"},o.a.createElement("p",null,"\u53f0\u5317\u5e02\uff2f\uff2f\u5340\uff2f\uff2f\u8857123\u865f"),o.a.createElement("p",null,"12345-6789"),o.a.createElement("p",null,"abcd@efghijk.com"))))))})),S=function(e){return function(a){Object(g.a)(n,a);var t=Object(u.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).onChangeRoomType=function(e){sessionStorage.setItem("roomId",e.id),a.onFetchRoomInfo()},a.onFetchRoomInfo=function(){a.setState({isShowLoading:!0}),_.room.getSingleRoom({id:sessionStorage.roomId}).then((function(e){var t=e.data,n=t.success,o=t.room,l=t.booking;n&&a.setState({room:o,booking:l,imageArr:o[0].imageUrl,isShowLoading:!1})}))},a.onChangeArrangement=function(e){e.stopPropagation();for(var t=a.state.imageArr,n=[],o=0;o<t.length;o++)o<t.length-1?n[o]=t[o+1]:n[o]=t[0];a.setState({imageArr:n})},a.onShowReserveDialog=function(){a.setState({isShowReserveDialog:!0})},a.onCloseReserveDialog=function(){a.setState({isShowReserveDialog:!1})},a.onShowImageDialog=function(e){a.setState({isShowImageDialog:!0,imageUrl:e})},a.onCloseImageDialog=function(){a.setState({isShowImageDialog:!1})},a.state={room:[],booking:[],imageArr:[],isShowReserveDialog:!1,isShowLoading:!1,isShowImageDialog:!1,imageUrl:""},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,a=e.location,t=e.history,n=a.pathname.split("/roomInfo/").join("");if(!sessionStorage.allRooms)return t.push("/");var o=JSON.parse(sessionStorage.allRooms);o.filter((function(e){return e.name===n&&(sessionStorage.setItem("roomId",e.id),!0)})).length<1&&t.push("/"),this.setState({allRooms:o}),this.onFetchRoomInfo()}},{key:"render",value:function(){return o.a.createElement(e,Object.assign({onChangeRoomType:this.onChangeRoomType,onChangeArrangement:this.onChangeArrangement,onShowReserveDialog:this.onShowReserveDialog,onCloseReserveDialog:this.onCloseReserveDialog,onShowImageDialog:this.onShowImageDialog,onCloseImageDialog:this.onCloseImageDialog},this.state,this.props))}}]),n}(o.a.Component)},w=t(38),N=t.n(w),b=t(39),I=t.n(b),k=t(37),y=t.n(k),C=t(35),D=t.n(C),R=function(e){var a=e.isShow,t=e.onClose;return o.a.createElement("div",{className:a?"dialog":"dialog_none",onClick:t},o.a.createElement("div",{className:"dialog_boxwrapper"},e.children,o.a.createElement("span",{className:"dialog_boxwrapper_closebtn",onClick:t},o.a.createElement(D.a,null))))},O=t(36),j=t.n(O),A=function(e){var a=e.isShow;return o.a.createElement("div",{className:a?"loading":"loading_none"},o.a.createElement("div",{className:"loading_boxwrapper"},o.a.createElement(j.a,null),"Loading"))},x={Single:"\u55ae\u4eba\u5e8a",Double:"\u96d9\u4eba\u5e8a","Small Double":"\u8c6a\u83ef\u55ae\u4eba\u5e8a",Queen:"\u8c6a\u83ef\u96d9\u4eba\u5e8a"},L=S((function(e){var a=e.allRooms,t=e.room,n=e.imageArr,l=e.imageUrl,r=e.isShowReserveDialog,c=e.isShowLoading,m=e.isShowImageDialog,s=e.onChangeRoomType,g=e.onChangeArrangement,u=e.onShowReserveDialog,h=e.onCloseReserveDialog,d=e.onShowImageDialog,p=e.onCloseImageDialog,E=function(){return o.a.createElement("div",{className:"roompage_info_right_top"},!!(a&&a.length>0)&&a.map((function(e){return t.length>0&&e.id!==t[0].id&&o.a.createElement(i.b,{to:"/roomInfo/".concat(e.name),key:e.id,onClick:function(){return s(e)}},o.a.createElement("h4",null,e.name.split("_").join(" ")))})))},f=function(){return o.a.createElement("div",{className:"roompage_info_right_middle_top"},o.a.createElement("h3",null,t.length>0&&t[0].name),o.a.createElement("div",{className:"roompage_info_right_middle_price"},o.a.createElement("div",null,"\u5e73\u65e5(\u4e00~\u56db)\u50f9\u683c\uff1a",o.a.createElement("span",null,t.length>0&&t[0].normalDayPrice)),o.a.createElement("div",null,"\u5047\u65e5(\u4e94~\u65e5)\u50f9\u683c\uff1a",o.a.createElement("span",null,t.length>0&&t[0].holidayPrice))))},_=function(){return n&&n.length>0?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"roompage_info_left_largeimage",style:{backgroundImage:"url(".concat(n[0],")")},onClick:function(){return d(n[0])}},o.a.createElement("span",{className:"roompage_info_left_caroucelBtn",onClick:g},o.a.createElement(y.a,null))),o.a.createElement("div",{className:"roompage_info_left_smallimages"},o.a.createElement("div",{className:"roompage_info_left_smallimages_image",style:{backgroundImage:"url(".concat(n[1],")")},onClick:function(){return d(n[1])}}),o.a.createElement("div",{className:"roompage_info_left_smallimages_image",style:{backgroundImage:"url(".concat(n[2],")")},onClick:function(){return d(n[2])}}))):null},v=function(){return o.a.createElement("div",{className:"roompage_info_right_middle_down_half"},o.a.createElement("div",{className:"roompage_info_right_middle_descri"},t.length>0&&t[0].description),o.a.createElement("div",{className:"roompage_info_right_middle_detail"},o.a.createElement("p",null,"\u623f\u5ba2\u4eba\u6578\u9650\u5236\uff1a",t.length>0&&t[0].descriptionShort.GuestMin," - ",t.length>0&&t[0].descriptionShort.GuestMax," \u4eba"),o.a.createElement("p",null,"\u5e8a\u578b\uff1a",x[t.length>0&&t[0].descriptionShort.Bed[0]]),o.a.createElement("p",null,"\u885b\u6d74\u6578\u91cf\uff1a",t.length>0&&t[0].descriptionShort["Private-Bath"]," \u9593"),o.a.createElement("p",null,"\u623f\u9593\u5927\u5c0f\uff1a",t.length>0&&t[0].descriptionShort.Footage," \u5e73\u65b9\u516c\u5c3a"),o.a.createElement("p",null,"checkIn \u6642\u9593\uff1a",t.length>0&&t[0].checkInAndOut.checkInEarly," ~ ",t.length>0&&t[0].checkInAndOut.checkInLate),o.a.createElement("p",null,"checkOut \u6642\u9593\uff1a",t.length>0&&t[0].checkInAndOut.checkOut)))},S=function(){return o.a.createElement("div",{className:"roompage_info_right_middle_down_half"},o.a.createElement("input",{type:"text",placeholder:"Name"}),o.a.createElement("input",{type:"text",placeholder:"Phone"}),o.a.createElement("div",{className:"roompage_info_right_middle_formDate"},o.a.createElement("input",{type:"text",placeholder:"Check in"}),o.a.createElement("input",{type:"text",placeholder:"Check out"})),o.a.createElement("div",{className:"roompage_info_right_middle_formButton"},o.a.createElement("div",null),o.a.createElement("div",null,o.a.createElement("button",{onClick:u},"\u9810\u7d04"))))};return console.log(t),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"roompage"},o.a.createElement("div",{className:"roompage_wrapper"},o.a.createElement("div",{className:"roompage_info"},o.a.createElement("div",{className:"roompage_info_left"},o.a.createElement(i.b,{to:"/"},o.a.createElement("h2",null,"WHITE INN")),o.a.createElement(_,null)),o.a.createElement("div",{className:"roompage_info_right"},o.a.createElement(E,null),o.a.createElement("div",{className:"roompage_info_right_middle"},o.a.createElement(f,null),o.a.createElement("div",{className:"roompage_info_right_middle_down"},o.a.createElement(v,null),o.a.createElement(S,null))),o.a.createElement("div",{className:"roompage_info_right_down"},Object.keys(t.length>0&&t[0].amenities).map((function(e){return o.a.createElement("div",{key:e,className:"roompage_info_right_down_item"},t[0].amenities[e]?o.a.createElement(N.a,null):o.a.createElement(I.a,null),o.a.createElement("span",null,e))})))))),o.a.createElement(R,{isShow:r,onClose:h},o.a.createElement("div",{className:"roompagedialog"},o.a.createElement("div",{className:"roompagedialog_wrapper"},o.a.createElement("h3",null,t.length>0&&t[0].name),o.a.createElement("div",{className:"roompagedialog_content"},o.a.createElement("div",{className:"roompagedialog_content_descri"},o.a.createElement("span",null,"\u5165\u4f4f"),o.a.createElement("span",null,"2019/09/10 \u661f\u671f\u4e09\uff0815:00 \u8d77\uff09")),o.a.createElement("div",{className:"roompagedialog_content_descri"},o.a.createElement("span",null,"\u9000\u623f"),o.a.createElement("span",null,"2019/09/12 \u661f\u671f\u4e94\uff0810:00 \u524d\uff09"))),o.a.createElement("div",{className:"roompagedialog_total"},"3 \u665a /  4260 \u5143")),o.a.createElement("button",null,"\u78ba\u5b9a"))),o.a.createElement(R,{isShow:m,onClose:p},o.a.createElement("div",{className:"roompageimagedialog"},o.a.createElement("img",{src:l}))),o.a.createElement(A,{isShow:c})))})),B=function(e){return o.a.createElement(i.a,null,o.a.createElement(c.d,null,o.a.createElement(c.b,{exact:!0,path:"/",component:v}),o.a.createElement(c.b,{path:"/roomInfo/:type",component:L}),o.a.createElement(c.a,{from:"/roomInfo/",to:"/roomInfo/Single_Room"}),o.a.createElement(c.a,{from:"*",to:"/"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[41,1,2]]]);
//# sourceMappingURL=main.5e0279b3.chunk.js.map