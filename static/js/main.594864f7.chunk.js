(this["webpackJsonpreact-web-hotel"]=this["webpackJsonpreact-web-hotel"]||[]).push([[0],{40:function(e,a,t){e.exports=t(71)},45:function(e,a,t){},46:function(e,a,t){},71:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),l=t(33),r=t.n(l),c=(t(45),t(11)),m=t(2),i=(t(46),t(15)),s=t(16),g=t(19),u=t(18),h=t(13),d=t(20),p=t(34),E=t.n(p),_=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o="i2A9LrARnW0vSgOGpO9E3X7kDM1tZDQwRLDK1qOlXxXtzVKG6ByZN2JXLxqC",l="get"===a?"params":"data",r={"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json",Authorization:"Bearer ".concat(o)};return n.headers&&(r=Object(d.a)(Object(d.a)({},r),n.headers)),new Promise((function(n,o){var c;E()((c={url:"https://challenge.thef2e.com/api/thef2e2019/stage6/".concat(e),method:a},Object(h.a)(c,l,t),Object(h.a)(c,"headers",r),c)).then(n).catch((function(e){console.dir(e),o(e)}))}))},f={room:{getRooms:function(){return _("rooms","get")},getSingleRoom:function(e){return _("room/".concat(e.id),"get")},addGuest:function(e){return _("post","/guest",e)}}},v=function(e){return function(a){Object(g.a)(n,a);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={rooms:[]},a}return Object(s.a)(n,[{key:"componentWillMount",value:function(){var e=this;f.room.getRooms().then((function(a){var t=a.data,n=t.success,o=t.items,l=o.map((function(e){return{name:e.name.split(" ").join("_"),id:e.id}}));sessionStorage.setItem("allRooms",JSON.stringify(l)),n&&o&&o.length>0&&e.setState({rooms:o})}))}},{key:"render",value:function(){return o.a.createElement(e,Object.assign({},this.state,this.props))}}]),n}(o.a.Component)}((function(e){var a=e.rooms;return o.a.createElement("div",{className:"homepage"},o.a.createElement("div",{className:"homepage_wrapper"},o.a.createElement("h1",null,"WHITE INN"),o.a.createElement("div",{className:"homepage_footer"},o.a.createElement("div",{className:"homepage_roomcarousel"},a.map((function(e){var a=e.name.split(" ").join("_");return o.a.createElement(c.b,{to:{pathname:"/roomInfo/".concat(a),query:{id:e.id}},key:e.id,className:"homepage_roomcarousel_roomcard"},o.a.createElement("div",{className:"homepage_roomcarousel_imgwrapper",style:{backgroundImage:"url(".concat(e.imageUrl,")")}}),o.a.createElement("div",{className:"homepage_roomcarousel_roominfo"},o.a.createElement("h3",null,e.name),o.a.createElement("p",null,"$ ",e.normalDayPrice),o.a.createElement("p",null,"$ ",e.holidayPrice)))}))),o.a.createElement("div",{className:"homepage_webinfo"},o.a.createElement("div",{className:"homepage_webinfo_wrapper"},o.a.createElement("p",null,"\u53f0\u5317\u5e02\uff2f\uff2f\u5340\uff2f\uff2f\u8857123\u865f"),o.a.createElement("p",null,"12345-6789"),o.a.createElement("p",null,"abcd@efghijk.com"))))))})),N=function(e){return function(a){Object(g.a)(n,a);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).onChangeRoomType=function(e){sessionStorage.setItem("roomId",e.id),a.onFetchRoomInfo()},a.onFetchRoomInfo=function(){f.room.getSingleRoom({id:sessionStorage.roomId}).then((function(e){var t=e.data,n=t.success,o=t.room,l=t.booking;n&&a.setState({room:o,booking:l,imageArr:o[0].imageUrl})}))},a.onChangeArrangement=function(){for(var e=a.state.imageArr,t=[],n=0;n<e.length;n++)n<e.length-1?t[n]=e[n+1]:t[n]=e[0];a.setState({imageArr:t})},a.onShowReserveDialog=function(){a.setState({isShowReserveDialog:!0})},a.onCloseReserveDialog=function(){a.setState({isShowReserveDialog:!1})},a.state={room:[],booking:[],imageArr:[],isShowReserveDialog:!1},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,a=e.location,t=e.history,n=a.pathname.split("/roomInfo/").join(""),o=JSON.parse(sessionStorage.allRooms);o.filter((function(e){return e.name===n&&(sessionStorage.setItem("roomId",e.id),!0)})).length<1&&t.push("/"),this.setState({allRooms:o}),this.onFetchRoomInfo()}},{key:"render",value:function(){return o.a.createElement(e,Object.assign({onChangeRoomType:this.onChangeRoomType,onChangeArrangement:this.onChangeArrangement,onShowReserveDialog:this.onShowReserveDialog,onCloseReserveDialog:this.onCloseReserveDialog},this.state,this.props))}}]),n}(o.a.Component)},b=t(37),k=t.n(b),w=t(38),S=t.n(w),y=t(36),R=t.n(y),I=t(35),C=t.n(I),O=function(e){var a=e.isShow,t=e.onClose;return o.a.createElement("div",{className:a?"dialog":"dialog_none",onClick:t},o.a.createElement("div",{className:"dialog_boxwrapper"},e.children,o.a.createElement("span",{className:"dialog_boxwrapper_closebtn",onClick:t},o.a.createElement(C.a,null))))},j={Single:"\u55ae\u4eba\u5e8a",Double:"\u96d9\u4eba\u5e8a","Small Double":"\u8c6a\u83ef\u55ae\u4eba\u5e8a",Queen:"\u8c6a\u83ef\u96d9\u4eba\u5e8a"},D=N((function(e){var a=e.allRooms,t=e.room,n=e.imageArr,l=e.isShowReserveDialog,r=e.onChangeRoomType,m=e.onChangeArrangement,i=e.onShowReserveDialog,s=e.onCloseReserveDialog,g=function(){return o.a.createElement("div",{className:"roompage_info_right_top"},!!(a&&a.length>0)&&a.map((function(e){return t.length>0&&e.id!==t[0].id&&o.a.createElement(c.b,{to:"/roomInfo/".concat(e.name),key:e.id,onClick:function(){return r(e)}},o.a.createElement("h4",null,e.name.split("_").join(" ")))})))},u=function(){return o.a.createElement("div",{className:"roompage_info_right_middle_top"},o.a.createElement("h3",null,t.length>0&&t[0].name),o.a.createElement("div",{className:"roompage_info_right_middle_price"},o.a.createElement("div",null,"\u5e73\u65e5(\u4e00~\u56db)\u50f9\u683c\uff1a",o.a.createElement("span",null,t.length>0&&t[0].normalDayPrice)),o.a.createElement("div",null,"\u5047\u65e5(\u4e94~\u65e5)\u50f9\u683c\uff1a",o.a.createElement("span",null,t.length>0&&t[0].holidayPrice))))},h=function(){return n&&n.length>0?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"roompage_info_left_largeimage",style:{backgroundImage:"url(".concat(n[0],")")}},o.a.createElement("span",{className:"roompage_info_left_caroucelBtn",onClick:m},o.a.createElement(R.a,null))),o.a.createElement("div",{className:"roompage_info_left_smallimages"},o.a.createElement("div",{className:"roompage_info_left_smallimages_image",style:{backgroundImage:"url(".concat(n[1],")")}}),o.a.createElement("div",{className:"roompage_info_left_smallimages_image",style:{backgroundImage:"url(".concat(n[2],")")}}))):null},d=function(){return o.a.createElement("div",{className:"roompage_info_right_middle_down_half"},o.a.createElement("div",{className:"roompage_info_right_middle_descri"},t.length>0&&t[0].description),o.a.createElement("div",{className:"roompage_info_right_middle_detail"},o.a.createElement("p",null,"\u623f\u5ba2\u4eba\u6578\u9650\u5236\uff1a",t.length>0&&t[0].descriptionShort.GuestMin," - ",t.length>0&&t[0].descriptionShort.GuestMax," \u4eba"),o.a.createElement("p",null,"\u5e8a\u578b\uff1a",j[t.length>0&&t[0].descriptionShort.Bed[0]]),o.a.createElement("p",null,"\u885b\u6d74\u6578\u91cf\uff1a",t.length>0&&t[0].descriptionShort["Private-Bath"]," \u9593"),o.a.createElement("p",null,"\u623f\u9593\u5927\u5c0f\uff1a",t.length>0&&t[0].descriptionShort.Footage," \u5e73\u65b9\u516c\u5c3a"),o.a.createElement("p",null,"checkIn \u6642\u9593\uff1a",t.length>0&&t[0].checkInAndOut.checkInEarly," ~ ",t.length>0&&t[0].checkInAndOut.checkInLate),o.a.createElement("p",null,"checkOut \u6642\u9593\uff1a",t.length>0&&t[0].checkInAndOut.checkOut)))},p=function(){return o.a.createElement("div",{className:"roompage_info_right_middle_down_half"},o.a.createElement("input",{type:"text",placeholder:"Name"}),o.a.createElement("input",{type:"text",placeholder:"Phone"}),o.a.createElement("div",{className:"roompage_info_right_middle_formDate"},o.a.createElement("input",{type:"text",placeholder:"Check in"}),o.a.createElement("input",{type:"text",placeholder:"Check out"})),o.a.createElement("div",{className:"roompage_info_right_middle_formButton"},o.a.createElement("div",null),o.a.createElement("div",null,o.a.createElement("button",{onClick:i},"\u9810\u7d04"))))};return console.log(t),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"roompage"},o.a.createElement("div",{className:"roompage_wrapper"},o.a.createElement("div",{className:"roompage_info"},o.a.createElement("div",{className:"roompage_info_left"},o.a.createElement(c.b,{to:"/"},o.a.createElement("h2",null,"WHITE INN")),o.a.createElement(h,null)),o.a.createElement("div",{className:"roompage_info_right"},o.a.createElement(g,null),o.a.createElement("div",{className:"roompage_info_right_middle"},o.a.createElement(u,null),o.a.createElement("div",{className:"roompage_info_right_middle_down"},o.a.createElement(d,null),o.a.createElement(p,null))),o.a.createElement("div",{className:"roompage_info_right_down"},Object.keys(t.length>0&&t[0].amenities).map((function(e){return o.a.createElement("div",{key:e,className:"roompage_info_right_down_item"},t[0].amenities[e]?o.a.createElement(k.a,null):o.a.createElement(S.a,null),o.a.createElement("span",null,e))})))))),o.a.createElement(O,{isShow:l,onClose:s},o.a.createElement("div",{className:"roompagedialog"},o.a.createElement("div",{className:"roompagedialog_wrapper"},o.a.createElement("h3",null,t.length>0&&t[0].name),o.a.createElement("div",{className:"roompagedialog_content"},o.a.createElement("div",{className:"roompagedialog_content_descri"},o.a.createElement("span",null,"\u5165\u4f4f"),o.a.createElement("span",null,"2019/09/10 \u661f\u671f\u4e09\uff0815:00 \u8d77\uff09")),o.a.createElement("div",{className:"roompagedialog_content_descri"},o.a.createElement("span",null,"\u9000\u623f"),o.a.createElement("span",null,"2019/09/12 \u661f\u671f\u4e94\uff0810:00 \u524d\uff09"))),o.a.createElement("div",{className:"roompagedialog_total"},"3 \u665a /  4260 \u5143")),o.a.createElement("button",null,"\u78ba\u5b9a")))))})),A=function(e){return o.a.createElement(c.a,null,o.a.createElement(m.d,null,o.a.createElement(m.b,{exact:!0,path:"/",component:v}),o.a.createElement(m.b,{path:"/roomInfo/:type",component:D}),o.a.createElement(m.a,{from:"/roomInfo/",to:"/roomInfo/Single_Room"}),o.a.createElement(m.a,{from:"*",to:"/"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.594864f7.chunk.js.map